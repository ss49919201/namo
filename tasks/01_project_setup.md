# プロジェクト基盤構築

## 目的

檀家情報管理システムの開発基盤を整備し、効率的な開発環境を構築する。

## タスク内容

### 1.1 プロジェクト初期設定

- [x] HonoX + TypeScript プロジェクトのセットアップ
  - [x] 必要なパッケージのインストール
    - [x] `honox`
    - [x] `@hono/node-server`
    - [x] `drizzle-orm`
    - [x] `drizzle-kit`
    - [x] `zod`
  - [x] プロジェクト構造の設計
    ```
    app/
    ├── components/    # UIコンポーネント
    ├── lib/          # ユーティリティ
    ├── models/       # データモデル
    ├── routes/       # ルート定義
    ├── styles/       # スタイル定義
    └── utils/        # ヘルパー関数
    ```
  - [x] 設定ファイルの作成
- [x] データベース環境の構築
  - [x] PostgreSQL のセットアップ
  - [x] Drizzle の設定
  - [x] マイグレーションツールの導入
- [ ] 認証基盤の構築
  - JWT 認証の実装
  - セッション管理
  - ミドルウェアによる認証制御
- [ ] 開発環境の整備
  - ESLint 設定
  - Prettier 設定
  - Git 設定
  - 開発用スクリプトの作成
  - ホットリロード設定

### 1.2 データベーススキーマ設計

- [ ] 檀家テーブル設計
  - 檀家番号（ID）
  - 世帯主情報
  - 住所情報
  - 連絡先情報
  - 登録日時
  - 備考
- [ ] 家族構成テーブル設計
  - 檀家 ID（外部キー）
  - 家族構成員情報
  - 続柄
  - 生年月日
  - 備考
- [ ] 故人情報テーブル設計
  - 檀家 ID（外部キー）
  - 故人情報
  - 法名
  - 命日
  - 享年
  - 埋葬場所
  - 備考
- [ ] ユーザー管理テーブル設計
  - ユーザー情報
  - 権限情報
  - ログイン履歴
- [ ] 法要管理テーブル設計
  - 法要情報
  - 年忌情報
  - 予定管理

## 関連ファイル

- `package.json`
- `tsconfig.json`
- `app/index.tsx`
- `app/routes/index.tsx`
- `drizzle.config.ts`
- `drizzle/schema.ts`
- `.eslintrc.js`
- `.prettierrc`
- `.gitignore`
- `README.md`

## 完了条件

- [x] 開発環境が正常に動作すること
- [x] データベースに接続できること
- [ ] 認証システムの基本機能が動作すること
- [ ] データベーススキーマが要件を満たしていること
- [ ] 開発環境の設定がチーム内で共有されていること

## 注意事項

- セキュリティを考慮した設定を行う
- 環境変数の適切な管理
- チーム開発を考慮した設定
- スケーラビリティを考慮した設計
- エッジコンピューティング環境での実行を考慮
- API のバージョニング戦略の検討
